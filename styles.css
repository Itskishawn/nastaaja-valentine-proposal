/* Basic reset */
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  font-family: Arial, Helvetica, sans-serif;
}

body {
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  min-height: 100vh;
  /* A warm, inviting gradient for the first page */
  background: linear-gradient(135deg, #ffe1e8 0%, #f8a1c4 100%);
  color: #333;
  padding: 1rem;
  text-align: center;
  position: relative;
  /* Allow vertical scrolling so longer level content can be viewed.  We
     previously set overflow: hidden to constrain the hearts animation, but
     this prevented scrolling on later levels.  Restrict horizontal scroll
     instead while still permitting vertical scroll. */
  overflow-x: hidden;
}

.question {
  font-size: 2rem;
  margin-bottom: 2rem;
  color: #d6336c; /* pink question text */
}

.buttons-container {
  position: relative;
  width: 300px;
  /* Increase the height of the button container and stack the buttons vertically.  This
     ensures the Yes button stays at the top and the No button starts beneath it.
     The No button is absolutely positioned at the bottom of this container. */
  /* Reduce the spacing between the Yes and No buttons.  A height of 160px
     keeps them closer together without overlapping. */
  height: 160px;
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  align-items: center;
  gap: 0.3rem;
}

.btn {
  padding: 0.8rem 1.5rem;
  margin: 0.5rem;
  font-size: 1.2rem;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  transition: transform 0.2s ease;
}

.btn.yes {
  background-color: #ff6b81;
  color: #fff;
  animation: heartbeat 2s infinite;

  /* Keep the Yes button above the No button so it’s always clickable */
  position: relative;
  z-index: 2;
}

.btn.no {
  background-color: #6c757d;
  color: #fff;
  position: absolute;
  /* Position the No button at the bottom of the container.  Using bottom
     ensures it starts below the Yes button.  When it moves via JavaScript,
     the top/left values will override these. */
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  /* Ensure the No button sits below the Yes button in the stacking context */
  z-index: 1;
}

/* Position the Next button in the bottom right corner when it appears */
.next-btn {
  position: fixed;
  bottom: 1.5rem;
  right: 1.5rem;
  background-color: #ff6b81;
  color: #fff;
  padding: 0.8rem 1.5rem;
  border: none;
  border-radius: 30px;
  font-size: 1rem;
  cursor: pointer;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
  transition: background-color 0.3s ease;
  z-index: 5;
}
.next-btn:hover {
  background-color: #e55a72;
}

.btn:active {
  transform: scale(0.95);
}

.message {
  font-size: 1.8rem;
  margin-top: 1.5rem;
  color: #d6336c;
  line-height: 1.5;
}

/* Note under the buttons */
.note {
  font-size: 1rem;
  margin-top: 0.5rem;
  color: #6d3b5f;
  font-style: italic;
}

/* Heartbeat animation for Yes button */
@keyframes heartbeat {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.1); }
}

/* Floating hearts container and animation */
#hearts-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 0;
}

#hearts-container .floating-heart {
  position: absolute;
  bottom: -50px;
  font-size: 2rem;
  opacity: 0.8;
  animation: float-up linear forwards;
}

@keyframes float-up {
  from {
    transform: translateY(0) scale(1);
    opacity: 1;
  }
  to {
    transform: translateY(-110vh) scale(1.3);
    opacity: 0;
  }
}

/* Styles for the big heart drawing and final messages */
.big-heart {
  display: block;
  /* Position the heart closer to the top of the page so it doesn't cover faces in the background photo */
  margin: 1rem auto;
  /* Reduce the overall size slightly for better layout with the photo */
  width: 200px;
  height: 180px;
}

/* Styles for the heart path inside the big heart SVG */
.big-heart .heart-path {
  /* Use a richer pink for the stroke */
  stroke: #e91e63;
  /* Increase stroke width for a bolder outline reminiscent of a 3D design */
  stroke-width: 4;
  /* Dashed stroke setup for drawing animation */
  stroke-dasharray: 250;
  stroke-dashoffset: 250;
  /* Start with no fill; the fill will be animated to the gradient */
  fill: none;
  /* Draw the heart outline, then animate the fill to the gradient, then beat it */
  animation: draw-heart 2s linear forwards,
             fill-heart 1s ease forwards 2s,
             beat-heart 1.5s ease-in-out infinite 3s;
  transform-origin: center;
}

@keyframes draw-heart {
  to { stroke-dashoffset: 0; }
}

@keyframes fill-heart {
  from {
    fill: none;
  }
  to {
    /* Fill the heart with the same rich pink used for the stroke.  This creates
       a cohesive look once the outline has been drawn.  If you prefer a
       gradient, you can replace this value with `url(#heartGradient)`. */
    fill: #e91e63;
  }
}

/* Heartbeat animation for the big heart after it has been drawn and filled */
@keyframes beat-heart {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.1); }
}

.yay {
  font-size: 2.4rem;
  /* Reduce the margin-top since the heart is larger; this keeps the text closer but still separated */
  margin-top: 0.5rem;
  color: #d81b60;
}

/*
 * Style the secondary lines on the celebration screen.  The user requested
 * that these lines use the same colour as the “Yay!” heading and a more
 * expressive script-like font.  We achieve this by specifying a cursive
 * font stack and copying the colour used for the .yay class (#d81b60).
 */
.best,
.love {
  font-size: 1.6rem;
  color: #d81b60;
  font-weight: bold;
  /* Use a handwritten/script font for a more romantic feel */
  font-family: 'Lucida Handwriting', 'Brush Script MT', cursive;
}

/*
 * Level containers
 *
 * Each subsequent “level” after the initial question screen is hidden by
 * default (via inline `display: none;` in the HTML).  When shown, a
 * level fills the viewport, centres its contents vertically and
 * horizontally, and maintains the same soft pink colour palette used
 * throughout the experience.  Using flexbox allows the sections to
 * expand to the height of the viewport and keeps the content aligned.
 */
.level {
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  align-items: center;
  width: 100%;
  min-height: 100vh;
  padding: 2rem 1rem;
  text-align: center;
  /* Match the warm gradient used on the first page */
  background: linear-gradient(135deg, #ffe1e8 0%, #f8a1c4 100%);
  color: #d81b60;

  /* Allow vertical scrolling if the content exceeds the viewport height.
     Without this, long messages on later levels may be cut off. */
  overflow-y: auto;
}

/* Titles for levels 3–5 */
.level3-title,
.level4-title,
.level5-title {
  font-size: 2rem;
  margin-bottom: 1rem;
  color: #d81b60;
  /* Use the same handwritten font as the celebration text for a romantic feel */
  font-family: 'Lucida Handwriting', 'Brush Script MT', cursive;
}

/* Override the style for the level 5 title specifically.  The long gift
   message benefits from a smaller, more legible font and a standard
   sans‑serif typeface.  Adjusting the line height makes the text more
   comfortable to read on smaller screens. */
/* Override the style for the level 5 title specifically.  The gift reveal
   needs a more romantic and expressive script font.  Increase the size
   slightly for emphasis. */
.level5-title {
  font-size: 2rem;
  font-family: 'Lucida Handwriting', 'Brush Script MT', cursive;
  line-height: 1.4;
  font-weight: normal;
  color: #d81b60;
}

/* Description text under the level 5 title explaining the spa surprise.  Use
   the same script font but slightly smaller for readability. */
.level5-description {
  font-size: 1.5rem;
  line-height: 1.5;
  color: #d81b60;
  font-family: 'Lucida Handwriting', 'Brush Script MT', cursive;
}

/* Text in level 3 beneath the surprise image */
.level3-text {
  font-size: 1.2rem;
  margin-top: 1rem;
  margin-bottom: 1.5rem;
  color: #6d3b5f;
}

/* Surprise image animation */
.surprise-img {
  width: 200px;
  height: auto;
  margin: 1rem 0;
  animation: bounce 2s ease-in-out infinite;
}

@keyframes bounce {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-15px);
  }
}

/* Calendar container and table */
.calendar-container {
  margin: 1.5rem 0;
}
.calendar-container table {
  border-collapse: collapse;
  margin: 0 auto;
}
.calendar-container th,
.calendar-container td,
.calendar-container th {
  width: 40px;
  height: 40px;
  text-align: center;
  border-radius: 50%;
  font-size: 1rem;
  /* Use a soft lavender tone for all day numbers by default.  This
     contrasts with the bright pink on the 14th so it really pops. */
  color: #a3839b;
  cursor: default;
}

.calendar-container th {
  font-weight: bold;
}

.calendar-container td.available {
  cursor: pointer;
  /* Highlight the selectable day (14th) with a pink border and bold text */
  border: 2px solid #ff6b81;
  font-weight: bold;
  /* Use the brighter pink colour for the 14th so it stands out from the other numbers */
  color: #d81b60;
}

.calendar-container td.available:hover {
  background-color: #f8a1c4;
}

.calendar-container td.selected {
  background-color: #ff6b81;
  color: #fff;
}

/* Buttons for advancing levels 3 and 4 */
.level-btn {
  background-color: #ff6b81;
  color: #fff;
  padding: 0.8rem 1.2rem;
  border: none;
  border-radius: 8px;
  font-size: 1.1rem;
  cursor: pointer;
  margin-top: 1rem;
  transition: background-color 0.3s ease;
}
.level-btn:hover {
  background-color: #e55a72;
}

/* Image on level 5 showing the resort */
.spa-img {
  width: 80%;
  max-width: 350px;
  height: auto;
  margin: 1.5rem 0;
  border-radius: 12px;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
}

/* Text under the resort image */
.level5-text,
.level5-signoff {
  margin-top: 0.5rem;
  font-size: 1.2rem;
  color: #6d3b5f;
  font-family: Arial, Helvetica, sans-serif;
}

/* Smoke effect overlay to appear on level 5 */
.smoke-effect {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  /* Use a radial gradient that pulses to simulate a dreamy smoke or mist effect.
     Increase the opacity for a more noticeable effect and ensure it floats
     above the rest of the content. */
  background: radial-gradient(circle at center, rgba(255, 255, 255, 0.7) 0%, rgba(255, 255, 255, 0) 70%);
  opacity: 0;
  z-index: 10;
  animation: smoke 10s ease-in-out infinite;
}

@keyframes smoke {
  0% {
    opacity: 0;
    transform: scale(1);
  }
  50% {
    opacity: 0.6;
    transform: scale(1.2);
  }
  100% {
    opacity: 0;
    transform: scale(1);
  }
}